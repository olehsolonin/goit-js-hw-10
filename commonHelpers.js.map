{"version":3,"file":"commonHelpers.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from \"flatpickr\";\nimport \"flatpickr/dist/flatpickr.min.css\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\nconst datetimePicker = document.getElementById('datetime-picker');\nconst startButton = document.querySelector('[data-start]');\nconst daysValue = document.querySelector('[data-days]');\nconst hoursValue = document.querySelector('[data-hours]');\nconst minutesValue = document.querySelector('[data-minutes]');\nconst secondsValue = document.querySelector('[data-seconds]');\nlet userSelectedDate;\n\n\nconst options = {\n\tenableTime: true,\n\ttime_24hr: true,\n\tdefaultDate: new Date(),\n\tminuteIncrement: 1,\n\tonClose(selectedDates) {\n\t\tuserSelectedDate = selectedDates[0];\n\t\tconst now = new Date();\n\t\tif (userSelectedDate <= now) {\n\t\t\tiziToast.error({\n\t\t\t\ttitle: 'Error',\n\t\t\t\tmessage: 'Please choose a date in the future',\n\t\t\t});\n\t\t\tstartButton.disabled = true;\n\t\t} else {\n\t\t\tstartButton.disabled = false;\n\t\t}\n\t},\n};\n\nflatpickr(datetimePicker, options);\n\nfunction calculateTimeDifference(endDate) {\n\tconst msDifference = endDate - new Date();\n\tconst second = 1000;\n\tconst minute = second * 60;\n\tconst hour = minute * 60;\n\tconst day = hour * 24;\n\tconst days = Math.floor(msDifference / day);\n\tconst hours = Math.floor((msDifference % day) / hour);\n\tconst minutes = Math.floor(((msDifference % day) % hour) / minute);\n\tconst seconds = Math.floor((((msDifference % day) % hour) % minute) / second);\n\treturn { days, hours, minutes, seconds };\n}\n\nfunction addLeadingZero(value) {\n\treturn value < 10 ? `0${value}` : value;\n}\n\nstartButton.addEventListener('click', () => {\n\tstartButton.disabled = true;\n\tdatetimePicker.disabled = true;\n\tconst countdownInterval = setInterval(() => {\n\t\tconst { days, hours, minutes, seconds } = calculateTimeDifference(userSelectedDate);\n\t\tdaysValue.textContent = addLeadingZero(days);\n\t\thoursValue.textContent = addLeadingZero(hours);\n\t\tminutesValue.textContent = addLeadingZero(minutes);\n\t\tsecondsValue.textContent = addLeadingZero(seconds);\n\t\tif (days === 0 && hours === 0 && minutes === 0 && seconds === 0) {\n\t\t\tclearInterval(countdownInterval);\n\t\t\tiziToast.success({\n\t\t\t\ttitle: 'Success',\n\t\t\t\tmessage: 'Countdown finished!',\n\t\t\t});\n\t\t\tstartButton.disabled = false;\n\t\t\tdatetimePicker.disabled = false;\n\t\t}\n\t}, 1000);\n});\n\n\n\n\n\n\n\n\n\n"],"names":["datetimePicker","startButton","daysValue","hoursValue","minutesValue","secondsValue","userSelectedDate","options","selectedDates","iziToast","flatpickr","calculateTimeDifference","endDate","msDifference","second","minute","hour","day","days","hours","minutes","seconds","addLeadingZero","value","countdownInterval"],"mappings":"0IAMA,MAAMA,EAAiB,SAAS,eAAe,iBAAiB,EAC1DC,EAAc,SAAS,cAAc,cAAc,EACnDC,EAAY,SAAS,cAAc,aAAa,EAChDC,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAe,SAAS,cAAc,gBAAgB,EACtDC,EAAe,SAAS,cAAc,gBAAgB,EAC5D,IAAIC,EAGJ,MAAMC,EAAU,CACf,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACtBF,EAAmBE,EAAc,CAAC,EAE9BF,GADQ,IAAI,MAEfG,EAAS,MAAM,CACd,MAAO,QACP,QAAS,oCACb,CAAI,EACDR,EAAY,SAAW,IAEvBA,EAAY,SAAW,EAExB,CACF,EAEAS,EAAUV,EAAgBO,CAAO,EAEjC,SAASI,EAAwBC,EAAS,CACzC,MAAMC,EAAeD,EAAU,IAAI,KAC7BE,EAAS,IACTC,EAASD,EAAS,GAClBE,EAAOD,EAAS,GAChBE,EAAMD,EAAO,GACbE,EAAO,KAAK,MAAML,EAAeI,CAAG,EACpCE,EAAQ,KAAK,MAAON,EAAeI,EAAOD,CAAI,EAC9CI,EAAU,KAAK,MAAQP,EAAeI,EAAOD,EAAQD,CAAM,EAC3DM,EAAU,KAAK,MAASR,EAAeI,EAAOD,EAAQD,EAAUD,CAAM,EAC5E,MAAO,CAAE,KAAAI,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACvC,CAEA,SAASC,EAAeC,EAAO,CAC9B,OAAOA,EAAQ,GAAK,IAAIA,CAAK,GAAKA,CACnC,CAEAtB,EAAY,iBAAiB,QAAS,IAAM,CAC3CA,EAAY,SAAW,GACvBD,EAAe,SAAW,GAC1B,MAAMwB,EAAoB,YAAY,IAAM,CAC3C,KAAM,CAAE,KAAAN,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,GAAYV,EAAwBL,CAAgB,EAClFJ,EAAU,YAAcoB,EAAeJ,CAAI,EAC3Cf,EAAW,YAAcmB,EAAeH,CAAK,EAC7Cf,EAAa,YAAckB,EAAeF,CAAO,EACjDf,EAAa,YAAciB,EAAeD,CAAO,EAC7CH,IAAS,GAAKC,IAAU,GAAKC,IAAY,GAAKC,IAAY,IAC7D,cAAcG,CAAiB,EAC/Bf,EAAS,QAAQ,CAChB,MAAO,UACP,QAAS,qBACb,CAAI,EACDR,EAAY,SAAW,GACvBD,EAAe,SAAW,GAE3B,EAAE,GAAI,CACR,CAAC"}